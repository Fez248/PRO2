\hypertarget{classCluster}{}\doxysection{Cluster Class Reference}
\label{classCluster}\index{Cluster@{Cluster}}


It represents a clsuter.  




{\ttfamily \#include $<$Cluster.\+hh$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classCluster_aee7feb1d599d4c8fda6c3ee83e86ba81}{Cluster}} ()
\begin{DoxyCompactList}\small\item\em Default creator. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classCluster_a3461bf6425ed68be10136da7f065674c}{read}} ()
\begin{DoxyCompactList}\small\item\em Clears the map of cpus and reads a new Bin\+Tree. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classCluster_a67a07d7fa050cb54cdad5893f21d7d05}{mc}} (string x)
\begin{DoxyCompactList}\small\item\em Checks the errors that can happen when modifing the cluster, erases x from the map and calls \mbox{\hyperlink{classCluster_a207680a453088ee7ee51bd05a5050a70}{reread()}}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classCluster_a9640e73a23961804c9ede181844b598a}{app}} (const string \&x, int identity, int memmory, int time)
\begin{DoxyCompactList}\small\item\em Takes the id of a cpu, and the values of a process, checks the errors, and if evrything goes right it adds the process to the cpu. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classCluster_aced7cf64f11e80c668d164300f91d49a}{bpp}} (const string \&x, int identity)
\begin{DoxyCompactList}\small\item\em Takes a cpu id (x) and the identity of a process (identity). If the cpu exists and the process too it removes it from the cpu. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classCluster_aa0ca0c66ba9d8ddcfb8ff9868b34ac3a}{at}} (int t)
\begin{DoxyCompactList}\small\item\em Makes time pass by. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classCluster_a2ee3faea667862eccfa83423987f3f5d}{ipro}} (const string \&x) const
\begin{DoxyCompactList}\small\item\em Finds a cpu in the cluster and prints his processes. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classCluster_a4f957b2623758e3a37103197beaf257c}{ipc}} () const
\begin{DoxyCompactList}\small\item\em Prints all the active processes from the cluster by increasing id order. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classCluster_ac43d39f3a287facd88d1b095e1096eaa}{iec}} () const
\begin{DoxyCompactList}\small\item\em Prints the cluster structure. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classCluster_ae632becdee8b3c212e2102e678aa5627}{cmp}} (string x)
\begin{DoxyCompactList}\small\item\em Compacts the memmory of a cpu. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classCluster_a473788edb16c0d25dd52e24b4a2c3c61}{cmc}} ()
\begin{DoxyCompactList}\small\item\em Compacts all the cpus. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classCluster_a93fb7b595036497a78e75a54947ae551}{recive\+\_\+processes}} (\mbox{\hyperlink{classProcess}{Process}} a)
\begin{DoxyCompactList}\small\item\em Recives a process from the waiting area, finds the best cpu for it and if it can it adds the process to the cluster. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{classCluster_a0f67ae08ed1bb763f431ba21c4292cc5}{read\+\_\+bintree}} (Bin\+Tree$<$ string $>$ \&\mbox{\hyperlink{classCluster_a371e399702db6ab3ea1eb21acd625408}{cluster}})
\begin{DoxyCompactList}\small\item\em Reads a cluster and sets the leaf value of the processors. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classCluster_abf5680db313a34a21856e0221453d9c3}{write\+\_\+bintree}} (const Bin\+Tree$<$ string $>$ \&\mbox{\hyperlink{classCluster_a371e399702db6ab3ea1eb21acd625408}{cluster}}) const
\begin{DoxyCompactList}\small\item\em Prints the cluster. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classCluster_a207680a453088ee7ee51bd05a5050a70}{reread}} (Bin\+Tree$<$ string $>$ \&a, string p)
\begin{DoxyCompactList}\small\item\em Modifies the cluster from a node p, if the node it\textquotesingle{}s reading it is not p it continues reading, when p is found it calls \mbox{\hyperlink{classCluster_a0f67ae08ed1bb763f431ba21c4292cc5}{read\+\_\+bintree()}} and the new cluster is inserted in its\textquotesingle{} position. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classCluster_aa25a3c0b374e0b379ee2aebb7f30c315}{find\+\_\+best}} (const int \mbox{\hyperlink{Cpu_8cc_a6249481818bd0eaba64860eec50ca613}{mem}}, const int identity, \mbox{\hyperlink{Cluster_8cc_ae1e017a8f236298c12d87027bf00c0e3}{cit}} ite, \mbox{\hyperlink{Cluster_8hh_aacbe7b43ba612546df8e6fbc79ae5b89}{ord}} can)
\begin{DoxyCompactList}\small\item\em Finds the best cpu to insert the process with memory = mem and id = identity. It returns an iterator pointing to the best option, if it doesn\textquotesingle{}t fit in any cpu it returns an iterator pointing to end(). \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
Bin\+Tree$<$ string $>$ \mbox{\hyperlink{classCluster_a371e399702db6ab3ea1eb21acd625408}{cluster}}
\item 
map$<$ string, \mbox{\hyperlink{classCpu}{Cpu}} $>$ \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
It represents a clsuter. 

The cluster is a binary tree where his components are processors, cpus. It needs to have at least one cpu. 

Definition at line 25 of file Cluster.\+hh.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classCluster_aee7feb1d599d4c8fda6c3ee83e86ba81}\label{classCluster_aee7feb1d599d4c8fda6c3ee83e86ba81}} 
\index{Cluster@{Cluster}!Cluster@{Cluster}}
\index{Cluster@{Cluster}!Cluster@{Cluster}}
\doxysubsubsection{\texorpdfstring{Cluster()}{Cluster()}}
{\footnotesize\ttfamily Cluster\+::\+Cluster (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Default creator. 

\begin{DoxyPrecond}{Precondition}
{\itshape True}. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondition}
An empty cluster. 
\end{DoxyPostcond}


Definition at line 182 of file Cluster.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{182 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classCluster_a9640e73a23961804c9ede181844b598a}\label{classCluster_a9640e73a23961804c9ede181844b598a}} 
\index{Cluster@{Cluster}!app@{app}}
\index{app@{app}!Cluster@{Cluster}}
\doxysubsubsection{\texorpdfstring{app()}{app()}}
{\footnotesize\ttfamily int Cluster\+::app (\begin{DoxyParamCaption}\item[{const string \&}]{x,  }\item[{int}]{identity,  }\item[{int}]{memmory,  }\item[{int}]{time }\end{DoxyParamCaption})}



Takes the id of a cpu, and the values of a process, checks the errors, and if evrything goes right it adds the process to the cpu. 

\begin{DoxyPrecond}{Precondition}
All variables initialized. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondition}
If the cpu doesn\textquotesingle{}t exist it returns 101, if not it calls add\+\_\+process\+\_\+cpu and returns the value this function returns, indicating if the process has been succesfull or not. If so, the process has been added. 
\end{DoxyPostcond}


Definition at line 77 of file Cluster.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{77                                                                     \{}
\DoxyCodeLine{78     clus::iterator it = \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.find(x);}
\DoxyCodeLine{79 }
\DoxyCodeLine{80     \textcolor{keywordflow}{if} (it == \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.end()) \textcolor{keywordflow}{return} 101;}
\DoxyCodeLine{81     \textcolor{keywordflow}{return} it-\/>second.add\_process\_cpu(identity, memory, time);}
\DoxyCodeLine{82 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classCluster_aa0ca0c66ba9d8ddcfb8ff9868b34ac3a}\label{classCluster_aa0ca0c66ba9d8ddcfb8ff9868b34ac3a}} 
\index{Cluster@{Cluster}!at@{at}}
\index{at@{at}!Cluster@{Cluster}}
\doxysubsubsection{\texorpdfstring{at()}{at()}}
{\footnotesize\ttfamily void Cluster\+::at (\begin{DoxyParamCaption}\item[{int}]{t }\end{DoxyParamCaption})}



Makes time pass by. 

\begin{DoxyPrecond}{Precondition}
A number t $>$= 0. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondition}
The time has been advanced in t unities. 
\end{DoxyPostcond}


Definition at line 100 of file Cluster.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{100                       \{}
\DoxyCodeLine{101     clus::iterator itf = \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.end();}
\DoxyCodeLine{102 }
\DoxyCodeLine{103     \textcolor{keywordflow}{for} (clus::iterator it = \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.begin(); it != itf; ++it) it-\/>second.advance(t);}
\DoxyCodeLine{104 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classCluster_aced7cf64f11e80c668d164300f91d49a}\label{classCluster_aced7cf64f11e80c668d164300f91d49a}} 
\index{Cluster@{Cluster}!bpp@{bpp}}
\index{bpp@{bpp}!Cluster@{Cluster}}
\doxysubsubsection{\texorpdfstring{bpp()}{bpp()}}
{\footnotesize\ttfamily int Cluster\+::bpp (\begin{DoxyParamCaption}\item[{const string \&}]{x,  }\item[{int}]{identity }\end{DoxyParamCaption})}



Takes a cpu id (x) and the identity of a process (identity). If the cpu exists and the process too it removes it from the cpu. 

\begin{DoxyPrecond}{Precondition}
A process and a cpu id initialized. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondition}
If the cpu doesn\textquotesingle{}t exist it returns 101, if it does exist, it calls remove\+\_\+process\+\_\+cpu() which removes the process and returns the a number indicating if the operation has been completed. 
\end{DoxyPostcond}


Definition at line 84 of file Cluster.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{84                                               \{}
\DoxyCodeLine{85     clus::iterator it = \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.find(x);}
\DoxyCodeLine{86 }
\DoxyCodeLine{87     \textcolor{keywordflow}{if} (it == \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.end()) \textcolor{keywordflow}{return} 101;}
\DoxyCodeLine{88     \textcolor{keywordtype}{int} back = 0;}
\DoxyCodeLine{89     \textcolor{keywordflow}{return} it-\/>second.remove\_process\_cpu(identity, back);}
\DoxyCodeLine{90 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classCluster_a473788edb16c0d25dd52e24b4a2c3c61}\label{classCluster_a473788edb16c0d25dd52e24b4a2c3c61}} 
\index{Cluster@{Cluster}!cmc@{cmc}}
\index{cmc@{cmc}!Cluster@{Cluster}}
\doxysubsubsection{\texorpdfstring{cmc()}{cmc()}}
{\footnotesize\ttfamily void Cluster\+::cmc (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Compacts all the cpus. 

\begin{DoxyPrecond}{Precondition}
{\itshape True}. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondition}
All the memmory moduls from all the cpus have been compacted. 
\end{DoxyPostcond}


Definition at line 114 of file Cluster.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{114                   \{}
\DoxyCodeLine{115     clus::iterator itf = \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.end();}
\DoxyCodeLine{116     \textcolor{keywordflow}{for} (clus::iterator it = \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.begin(); it != itf; ++it) \{}
\DoxyCodeLine{117         \textcolor{keywordflow}{if} (it-\/>second.what\_ffree() <= it-\/>second.what\_mema())it-\/>second.compactar();}
\DoxyCodeLine{118     \}}
\DoxyCodeLine{119 \}   }

\end{DoxyCode}
\mbox{\Hypertarget{classCluster_ae632becdee8b3c212e2102e678aa5627}\label{classCluster_ae632becdee8b3c212e2102e678aa5627}} 
\index{Cluster@{Cluster}!cmp@{cmp}}
\index{cmp@{cmp}!Cluster@{Cluster}}
\doxysubsubsection{\texorpdfstring{cmp()}{cmp()}}
{\footnotesize\ttfamily bool Cluster\+::cmp (\begin{DoxyParamCaption}\item[{string}]{x }\end{DoxyParamCaption})}



Compacts the memmory of a cpu. 

\begin{DoxyPrecond}{Precondition}
A cpu id. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondition}
If the cpu id doesn\textquotesingle{}t exist it returns false, if not, it compacts it\textquotesingle{}s memmory moving all the processes to the beggining of the memory respecting the order and returns true. 
\end{DoxyPostcond}


Definition at line 106 of file Cluster.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{106                           \{}
\DoxyCodeLine{107     clus::iterator it = \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.lower\_bound(x);}
\DoxyCodeLine{108 }
\DoxyCodeLine{109     \textcolor{keywordflow}{if} (it == \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.end() or it-\/>first != x) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{110     \textcolor{keywordflow}{if} (it-\/>second.what\_ffree() <= it-\/>second.what\_mema())it-\/>second.compactar();}
\DoxyCodeLine{111     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{112 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classCluster_aa25a3c0b374e0b379ee2aebb7f30c315}\label{classCluster_aa25a3c0b374e0b379ee2aebb7f30c315}} 
\index{Cluster@{Cluster}!find\_best@{find\_best}}
\index{find\_best@{find\_best}!Cluster@{Cluster}}
\doxysubsubsection{\texorpdfstring{find\_best()}{find\_best()}}
{\footnotesize\ttfamily void Cluster\+::find\+\_\+best (\begin{DoxyParamCaption}\item[{const int}]{mem,  }\item[{const int}]{identity,  }\item[{\mbox{\hyperlink{Cluster_8cc_ae1e017a8f236298c12d87027bf00c0e3}{cit}}}]{ite,  }\item[{\mbox{\hyperlink{Cluster_8hh_aacbe7b43ba612546df8e6fbc79ae5b89}{ord}}}]{can }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Finds the best cpu to insert the process with memory = mem and id = identity. It returns an iterator pointing to the best option, if it doesn\textquotesingle{}t fit in any cpu it returns an iterator pointing to end(). 

\begin{DoxyPrecond}{Precondition}
The new cluster ready to be read on the console, a initialized and garanteed that p exists, it doesn\textquotesingle{}t have processes and it\textquotesingle{}s a leaf of the tree and p initialized. Ite initialized pointing to end(). 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondition}
The new cluster a contains the old cluster and the new one in the position of p. 
\end{DoxyPostcond}


Definition at line 149 of file Cluster.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{149                                                                            \{}
\DoxyCodeLine{150     \textcolor{keywordtype}{int} no\_space, free\_space;}
\DoxyCodeLine{151     no\_space = free\_space = -\/1;}
\DoxyCodeLine{152     \textcolor{keywordflow}{if} (!can.empty()) \{}
\DoxyCodeLine{153         queue<BinTree<string>> need\_visit;}
\DoxyCodeLine{154         need\_visit.push(can);}
\DoxyCodeLine{155 }
\DoxyCodeLine{156         \textcolor{keywordflow}{while} (!need\_visit.empty()) \{}
\DoxyCodeLine{157             BinTree<string> ls, rs;}
\DoxyCodeLine{158             ls = need\_visit.front().left();}
\DoxyCodeLine{159             rs = need\_visit.front().right();}
\DoxyCodeLine{160             \textcolor{keywordtype}{string} x = need\_visit.front().value();}
\DoxyCodeLine{161             need\_visit.pop();}
\DoxyCodeLine{162 }
\DoxyCodeLine{163             clus::iterator it = \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.find(x);}
\DoxyCodeLine{164             \textcolor{keywordtype}{int} aux = it-\/>second.get\_memory(\mbox{\hyperlink{Cpu_8cc_a6249481818bd0eaba64860eec50ca613}{mem}}, identity);}
\DoxyCodeLine{165 }
\DoxyCodeLine{166             \textcolor{keywordflow}{if} (aux != -\/1) \{}
\DoxyCodeLine{167                 \textcolor{keywordtype}{int} aux2 = it-\/>second.space\_left();}
\DoxyCodeLine{168                 \textcolor{keywordflow}{if} (no\_space == -\/1 or aux -\/ \mbox{\hyperlink{Cpu_8cc_a6249481818bd0eaba64860eec50ca613}{mem}} < no\_space or (aux -\/ \mbox{\hyperlink{Cpu_8cc_a6249481818bd0eaba64860eec50ca613}{mem}} == no\_space and aux2 > free\_space)) \{}
\DoxyCodeLine{169                     no\_space = aux -\/ \mbox{\hyperlink{Cpu_8cc_a6249481818bd0eaba64860eec50ca613}{mem}};}
\DoxyCodeLine{170                     free\_space = aux2;}
\DoxyCodeLine{171                     ite = it;}
\DoxyCodeLine{172                 \}}
\DoxyCodeLine{173             \}}
\DoxyCodeLine{174 }
\DoxyCodeLine{175             \textcolor{keywordflow}{if} (!ls.empty()) need\_visit.push(ls);}
\DoxyCodeLine{176             \textcolor{keywordflow}{if} (!rs.empty()) need\_visit.push(rs);}
\DoxyCodeLine{177         \}}
\DoxyCodeLine{178     \}}
\DoxyCodeLine{179 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classCluster_ac43d39f3a287facd88d1b095e1096eaa}\label{classCluster_ac43d39f3a287facd88d1b095e1096eaa}} 
\index{Cluster@{Cluster}!iec@{iec}}
\index{iec@{iec}!Cluster@{Cluster}}
\doxysubsubsection{\texorpdfstring{iec()}{iec()}}
{\footnotesize\ttfamily void Cluster\+::iec (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Prints the cluster structure. 

\begin{DoxyPrecond}{Precondition}
{\itshape True}. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondition}
The cluster has been printed. 
\end{DoxyPostcond}


Definition at line 18 of file Cluster.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{18                         \{}
\DoxyCodeLine{19     \mbox{\hyperlink{classCluster_abf5680db313a34a21856e0221453d9c3}{write\_bintree}}(\mbox{\hyperlink{classCluster_a371e399702db6ab3ea1eb21acd625408}{cluster}});}
\DoxyCodeLine{20 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classCluster_a4f957b2623758e3a37103197beaf257c}\label{classCluster_a4f957b2623758e3a37103197beaf257c}} 
\index{Cluster@{Cluster}!ipc@{ipc}}
\index{ipc@{ipc}!Cluster@{Cluster}}
\doxysubsubsection{\texorpdfstring{ipc()}{ipc()}}
{\footnotesize\ttfamily void Cluster\+::ipc (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Prints all the active processes from the cluster by increasing id order. 

\begin{DoxyPrecond}{Precondition}
{\itshape True}. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondition}
All the processes have been printed. 
\end{DoxyPostcond}


Definition at line 68 of file Cluster.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{68                         \{}
\DoxyCodeLine{69     clus::const\_iterator it2 = \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.end();}
\DoxyCodeLine{70 }
\DoxyCodeLine{71     \textcolor{keywordflow}{for} (clus::const\_iterator it = \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.begin(); it != it2; ++it) \{}
\DoxyCodeLine{72         cout << it-\/>first << endl;}
\DoxyCodeLine{73         it-\/>second.write\_cpu();}
\DoxyCodeLine{74     \}}
\DoxyCodeLine{75 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classCluster_a2ee3faea667862eccfa83423987f3f5d}\label{classCluster_a2ee3faea667862eccfa83423987f3f5d}} 
\index{Cluster@{Cluster}!ipro@{ipro}}
\index{ipro@{ipro}!Cluster@{Cluster}}
\doxysubsubsection{\texorpdfstring{ipro()}{ipro()}}
{\footnotesize\ttfamily bool Cluster\+::ipro (\begin{DoxyParamCaption}\item[{const string \&}]{x }\end{DoxyParamCaption}) const}



Finds a cpu in the cluster and prints his processes. 

\begin{DoxyPrecond}{Precondition}
Initialized x. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondition}
If the cpu doesn\textquotesingle{}t exist it returns false, if not, it prints his processes with their information and returns true. 
\end{DoxyPostcond}


Definition at line 92 of file Cluster.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{92                                         \{}
\DoxyCodeLine{93     clus::const\_iterator it = \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.find(x);}
\DoxyCodeLine{94     }
\DoxyCodeLine{95     \textcolor{keywordflow}{if} (it == \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.end()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{96     it-\/>second.write\_cpu();}
\DoxyCodeLine{97     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{98 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classCluster_a67a07d7fa050cb54cdad5893f21d7d05}\label{classCluster_a67a07d7fa050cb54cdad5893f21d7d05}} 
\index{Cluster@{Cluster}!mc@{mc}}
\index{mc@{mc}!Cluster@{Cluster}}
\doxysubsubsection{\texorpdfstring{mc()}{mc()}}
{\footnotesize\ttfamily int Cluster\+::mc (\begin{DoxyParamCaption}\item[{string}]{x }\end{DoxyParamCaption})}



Checks the errors that can happen when modifing the cluster, erases x from the map and calls \mbox{\hyperlink{classCluster_a207680a453088ee7ee51bd05a5050a70}{reread()}}. 

\begin{DoxyPrecond}{Precondition}
Initialized x. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondition}
If the cpu doesn\textquotesingle{}t exist it returns 101, if it has any active process it returns 102 and if it has auxiliar cpus it returns 103. If not, it calls \mbox{\hyperlink{classCluster_a207680a453088ee7ee51bd05a5050a70}{reread()}} and returns 100. 
\end{DoxyPostcond}


Definition at line 121 of file Cluster.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{121                         \{}
\DoxyCodeLine{122     clus::const\_iterator it = \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.lower\_bound(x);}
\DoxyCodeLine{123 }
\DoxyCodeLine{124     \textcolor{keywordflow}{if} (it == \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.end() or it-\/>first != x) \textcolor{keywordflow}{return} 101;}
\DoxyCodeLine{125     \textcolor{keywordflow}{if} (!it-\/>second.active\_processes()) \textcolor{keywordflow}{return} 102;}
\DoxyCodeLine{126     \textcolor{keywordflow}{if} (!it-\/>second.yn\_leaf()) \textcolor{keywordflow}{return} 103;}
\DoxyCodeLine{127 }
\DoxyCodeLine{128     \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.erase(it);}
\DoxyCodeLine{129     \mbox{\hyperlink{classCluster_a207680a453088ee7ee51bd05a5050a70}{reread}}(\mbox{\hyperlink{classCluster_a371e399702db6ab3ea1eb21acd625408}{cluster}}, x);}
\DoxyCodeLine{130 }
\DoxyCodeLine{131     \textcolor{keywordflow}{return} 100;}
\DoxyCodeLine{132 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classCluster_a3461bf6425ed68be10136da7f065674c}\label{classCluster_a3461bf6425ed68be10136da7f065674c}} 
\index{Cluster@{Cluster}!read@{read}}
\index{read@{read}!Cluster@{Cluster}}
\doxysubsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily void Cluster\+::read (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Clears the map of cpus and reads a new Bin\+Tree. 

\begin{DoxyPrecond}{Precondition}
{\itshape True}. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondition}
A new cluster. The older one it\textquotesingle{}s erased. 
\end{DoxyPostcond}


Definition at line 13 of file Cluster.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{13                    \{}
\DoxyCodeLine{14     \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.clear();}
\DoxyCodeLine{15     \mbox{\hyperlink{classCluster_a0f67ae08ed1bb763f431ba21c4292cc5}{read\_bintree}}(\mbox{\hyperlink{classCluster_a371e399702db6ab3ea1eb21acd625408}{cluster}});}
\DoxyCodeLine{16 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classCluster_a0f67ae08ed1bb763f431ba21c4292cc5}\label{classCluster_a0f67ae08ed1bb763f431ba21c4292cc5}} 
\index{Cluster@{Cluster}!read\_bintree@{read\_bintree}}
\index{read\_bintree@{read\_bintree}!Cluster@{Cluster}}
\doxysubsubsection{\texorpdfstring{read\_bintree()}{read\_bintree()}}
{\footnotesize\ttfamily bool Cluster\+::read\+\_\+bintree (\begin{DoxyParamCaption}\item[{Bin\+Tree$<$ string $>$ \&}]{cluster }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Reads a cluster and sets the leaf value of the processors. 

\begin{DoxyPrecond}{Precondition}
The new cluster ready to be read on the console. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondition}
Returns true if the node that it\textquotesingle{}s reading it\textquotesingle{}s empty. 
\end{DoxyPostcond}


Definition at line 32 of file Cluster.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{32                                              \{ \textcolor{comment}{//quizá el error está aquí}}
\DoxyCodeLine{33     \textcolor{keywordtype}{string} x;}
\DoxyCodeLine{34     cin >> x;}
\DoxyCodeLine{35 }
\DoxyCodeLine{36     \textcolor{keywordflow}{if} (x != \textcolor{stringliteral}{"*"}) \{}
\DoxyCodeLine{37         \textcolor{keywordtype}{int} n;}
\DoxyCodeLine{38         cin >> n;}
\DoxyCodeLine{39         \textcolor{keyword}{auto} it = \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.insert(make\_pair(x, \mbox{\hyperlink{classCpu}{Cpu}}(n)));}
\DoxyCodeLine{40 }
\DoxyCodeLine{41         BinTree<string> left, right;}
\DoxyCodeLine{42         \textcolor{keywordtype}{bool} left\_check = \mbox{\hyperlink{classCluster_a0f67ae08ed1bb763f431ba21c4292cc5}{read\_bintree}}(left);}
\DoxyCodeLine{43         \textcolor{keywordtype}{bool} right\_check = \mbox{\hyperlink{classCluster_a0f67ae08ed1bb763f431ba21c4292cc5}{read\_bintree}}(right);    }
\DoxyCodeLine{44         \textcolor{keywordflow}{if} (left\_check and right\_check) it.first-\/>second.is\_leaf();}
\DoxyCodeLine{45         a = BinTree<string>(x, left, right);}
\DoxyCodeLine{46 }
\DoxyCodeLine{47         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{48     \}}
\DoxyCodeLine{49     \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{50 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classCluster_a93fb7b595036497a78e75a54947ae551}\label{classCluster_a93fb7b595036497a78e75a54947ae551}} 
\index{Cluster@{Cluster}!recive\_processes@{recive\_processes}}
\index{recive\_processes@{recive\_processes}!Cluster@{Cluster}}
\doxysubsubsection{\texorpdfstring{recive\_processes()}{recive\_processes()}}
{\footnotesize\ttfamily bool Cluster\+::recive\+\_\+processes (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classProcess}{Process}}}]{a }\end{DoxyParamCaption})}



Recives a process from the waiting area, finds the best cpu for it and if it can it adds the process to the cluster. 

\begin{DoxyPrecond}{Precondition}
{\itshape True}. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondition}
If the process it\textquotesingle{}s added it returns true, if not it returns false. 
\end{DoxyPostcond}


Definition at line 134 of file Cluster.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{134                                         \{}
\DoxyCodeLine{135     \textcolor{keywordtype}{int} \mbox{\hyperlink{Cpu_8cc_a6249481818bd0eaba64860eec50ca613}{mem}}, time, id;}
\DoxyCodeLine{136     time = a.\mbox{\hyperlink{classProcess_a35de003f1633c047d70e29265d505b52}{what\_time}}();}
\DoxyCodeLine{137     \textcolor{keywordtype}{id} = a.\mbox{\hyperlink{classProcess_a1c83a78bf269ff88e0ce1b929eee325c}{what\_id}}();}
\DoxyCodeLine{138     \mbox{\hyperlink{Cpu_8cc_a6249481818bd0eaba64860eec50ca613}{mem}} = a.\mbox{\hyperlink{classProcess_a829698b52b61409c211979e86c808065}{what\_mem}}();}
\DoxyCodeLine{139     clus::iterator ite = \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.end();}
\DoxyCodeLine{140     \mbox{\hyperlink{classCluster_aa25a3c0b374e0b379ee2aebb7f30c315}{find\_best}}(\mbox{\hyperlink{Cpu_8cc_a6249481818bd0eaba64860eec50ca613}{mem}}, \textcolor{keywordtype}{id}, ite, \mbox{\hyperlink{classCluster_a371e399702db6ab3ea1eb21acd625408}{cluster}});}
\DoxyCodeLine{141 }
\DoxyCodeLine{142     \textcolor{keywordflow}{if} (ite != \mbox{\hyperlink{classCluster_aea7f1c755c1fb744008e344a3692dafb}{conj}}.end()) \{}
\DoxyCodeLine{143         ite-\/>second.add\_process\_cpu(\textcolor{keywordtype}{id}, \mbox{\hyperlink{Cpu_8cc_a6249481818bd0eaba64860eec50ca613}{mem}}, time); \textcolor{comment}{//check this line, maybe I can create another add function that takes a process as a parameter and doesn't check so many errors}}
\DoxyCodeLine{144         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{145     \}}
\DoxyCodeLine{146     \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{147 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classCluster_a207680a453088ee7ee51bd05a5050a70}\label{classCluster_a207680a453088ee7ee51bd05a5050a70}} 
\index{Cluster@{Cluster}!reread@{reread}}
\index{reread@{reread}!Cluster@{Cluster}}
\doxysubsubsection{\texorpdfstring{reread()}{reread()}}
{\footnotesize\ttfamily void Cluster\+::reread (\begin{DoxyParamCaption}\item[{Bin\+Tree$<$ string $>$ \&}]{a,  }\item[{string}]{p }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Modifies the cluster from a node p, if the node it\textquotesingle{}s reading it is not p it continues reading, when p is found it calls \mbox{\hyperlink{classCluster_a0f67ae08ed1bb763f431ba21c4292cc5}{read\+\_\+bintree()}} and the new cluster is inserted in its\textquotesingle{} position. 

\begin{DoxyPrecond}{Precondition}
The new cluster ready to be read on the console, a initialized and garanteed that p exists, it doesn\textquotesingle{}t have processes and it\textquotesingle{}s a leaf of the tree and p initialized. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondition}
The new cluster a contains the old cluster and the new one in the position of p. 
\end{DoxyPostcond}


Definition at line 52 of file Cluster.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{52                                                  \{}
\DoxyCodeLine{53     \textcolor{keywordflow}{if} (!a.empty()) \{}
\DoxyCodeLine{54         \textcolor{keywordtype}{string} x = a.value();}
\DoxyCodeLine{55         \textcolor{keywordflow}{if} (x == p) \mbox{\hyperlink{classCluster_a0f67ae08ed1bb763f431ba21c4292cc5}{read\_bintree}}(a);}
\DoxyCodeLine{56         \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{57             BinTree<string> left, right;}
\DoxyCodeLine{58             left = a.left();}
\DoxyCodeLine{59             right = a.right();}
\DoxyCodeLine{60             \mbox{\hyperlink{classCluster_a207680a453088ee7ee51bd05a5050a70}{reread}}(left, p);}
\DoxyCodeLine{61             \mbox{\hyperlink{classCluster_a207680a453088ee7ee51bd05a5050a70}{reread}}(right, p);}
\DoxyCodeLine{62 }
\DoxyCodeLine{63             a = BinTree<string>(x, left, right);}
\DoxyCodeLine{64         \}}
\DoxyCodeLine{65     \}}
\DoxyCodeLine{66 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classCluster_abf5680db313a34a21856e0221453d9c3}\label{classCluster_abf5680db313a34a21856e0221453d9c3}} 
\index{Cluster@{Cluster}!write\_bintree@{write\_bintree}}
\index{write\_bintree@{write\_bintree}!Cluster@{Cluster}}
\doxysubsubsection{\texorpdfstring{write\_bintree()}{write\_bintree()}}
{\footnotesize\ttfamily void Cluster\+::write\+\_\+bintree (\begin{DoxyParamCaption}\item[{const Bin\+Tree$<$ string $>$ \&}]{cluster }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Prints the cluster. 

\begin{DoxyPrecond}{Precondition}
{\itshape True}. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondition}
The cluster has been printed. 
\end{DoxyPostcond}


Definition at line 22 of file Cluster.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{22                                                                 \{}
\DoxyCodeLine{23     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classCluster_a371e399702db6ab3ea1eb21acd625408}{cluster}}.empty()) \{}
\DoxyCodeLine{24         cout << \textcolor{stringliteral}{"("} << \mbox{\hyperlink{classCluster_a371e399702db6ab3ea1eb21acd625408}{cluster}}.value();}
\DoxyCodeLine{25         \mbox{\hyperlink{classCluster_abf5680db313a34a21856e0221453d9c3}{write\_bintree}}(\mbox{\hyperlink{classCluster_a371e399702db6ab3ea1eb21acd625408}{cluster}}.left());}
\DoxyCodeLine{26         \mbox{\hyperlink{classCluster_abf5680db313a34a21856e0221453d9c3}{write\_bintree}}(\mbox{\hyperlink{classCluster_a371e399702db6ab3ea1eb21acd625408}{cluster}}.right());}
\DoxyCodeLine{27         cout << \textcolor{stringliteral}{")"};}
\DoxyCodeLine{28     \}}
\DoxyCodeLine{29     \textcolor{keywordflow}{else} cout << \textcolor{stringliteral}{" "};}
\DoxyCodeLine{30 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classCluster_a371e399702db6ab3ea1eb21acd625408}\label{classCluster_a371e399702db6ab3ea1eb21acd625408}} 
\index{Cluster@{Cluster}!cluster@{cluster}}
\index{cluster@{cluster}!Cluster@{Cluster}}
\doxysubsubsection{\texorpdfstring{cluster}{cluster}}
{\footnotesize\ttfamily Bin\+Tree$<$string$>$ Cluster\+::cluster\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 27 of file Cluster.\+hh.

\mbox{\Hypertarget{classCluster_aea7f1c755c1fb744008e344a3692dafb}\label{classCluster_aea7f1c755c1fb744008e344a3692dafb}} 
\index{Cluster@{Cluster}!conj@{conj}}
\index{conj@{conj}!Cluster@{Cluster}}
\doxysubsubsection{\texorpdfstring{conj}{conj}}
{\footnotesize\ttfamily map$<$string, \mbox{\hyperlink{classCpu}{Cpu}}$>$ Cluster\+::conj\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 28 of file Cluster.\+hh.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{Cluster_8hh}{Cluster.\+hh}}\item 
\mbox{\hyperlink{Cluster_8cc}{Cluster.\+cc}}\end{DoxyCompactItemize}
